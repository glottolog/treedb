# treedb.ini - Glottolog repository root, engine, and logging for the dev environment

[glottolog]
repo_root = ../glottolog/

[treedb]
engine = treedb.sqlite3

[loggers]
keys = root, warnings, sql, treedb

[logger_root]
handlers = stderr_plain, file
level = NOTSET

[logger_warnings]
qualname = py.warnings
handlers = stderr_prefixed, file
propagate = 0
level = WARNING

[logger_sql]
qualname = sqlalchemy.engine
handlers =
level = WARNING

[logger_treedb]
qualname = treedb
handlers = stderr_prefixed, file
propagate = 0
level = DEBUG

[handlers]
keys = stderr_plain, stderr_prefixed, file

[handler_stderr_plain]
formatter = plain
level = INFO
class = StreamHandler
args = (sys.stderr,)

[handler_stderr_prefixed]
formatter = prefixed
level = INFO
class = StreamHandler
args = (sys.stderr,)

[handler_file]
formatter = full
level = DEBUG
class = FileHandler
args = ('treedb.log',)

[formatters]
keys = plain, prefixed, full

[formatter_plain]
format = %(message)s

[formatter_prefixed]
format = [%(levelname)s@%(name)s] %(message)s

[formatter_full]
format = %(asctime)s [%(levelname)s@%(name)s] %(message)s
datefmt = %b %d %H:%M:%S
